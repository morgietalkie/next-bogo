"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var handle,_objectWithoutPropertiesLoose=_interopDefault(require("@babel/runtime/helpers/objectWithoutPropertiesLoose")),_extends=_interopDefault(require("@babel/runtime/helpers/extends")),React=require("react"),reactUse=require("react-use"),hoistNonReactStatics=_interopDefault(require("hoist-non-react-statics")),clamp=function(e,n,t){return e=(e=e<=t?e:t)>=n?e:n},increment=function(e){var n=0;return e>=0&&e<.2?n=.1:e>=.2&&e<.5?n=.04:e>=.5&&e<.8?n=.02:e>=.8&&e<.99&&(n=.005),clamp(e+n,0,.994)},isRunning=!1,pending=[],next=function e(){isRunning=!0;var n=pending.shift();if(n)return n(e);isRunning=!1},clear=function(){isRunning=!1,pending=[]},queue=function(e){pending.push(e),isRunning||1!==pending.length||next()},cancel=function(){handle&&window.cancelAnimationFrame(handle)},timeout=function(e,n){var t;handle=window.requestAnimationFrame(function i(r){r-(t=t||r)>n?e():handle=window.requestAnimationFrame(i)})},noop=function(){},initialState={isFinished:!1,progress:0,sideEffect:noop},cleanup=function(){cancel(),clear()},useNProgress=function(e){var n=void 0===e?{}:e,t=n.animationDuration,i=void 0===t?200:t,r=n.incrementDuration,o=void 0===r?800:r,u=n.isAnimating,s=void 0!==u&&u,c=n.minimum,a=void 0===c?.08:c,f=reactUse.useGetSetState(initialState),d=f[0],p=f[1],l=function(e){if(1===(e=clamp(e,a,1)))return cleanup(),queue(function(n){p({progress:e,sideEffect:function(){return timeout(n,i)}})}),void queue(function(){p({isFinished:!0,sideEffect:cleanup})});queue(function(n){p({progress:e,sideEffect:function(){return timeout(n,i)}})})},g=function(){l(increment(d().progress))},h=function(){!function e(){g(),queue(function(n){timeout(function(){e(),n()},o)})}()},m=React.useRef(noop);return React.useEffect(function(){m.current=g}),reactUse.useEffectOnce(function(){return s&&h(),cleanup}),reactUse.useUpdateEffect(function(){d().sideEffect()},[d().sideEffect]),reactUse.useUpdateEffect(function(){s?p(_extends({},initialState,{sideEffect:h})):l(1)},[s]),{animationDuration:i,isFinished:d().isFinished,progress:d().progress}},NProgress=function(e){var n=e.children,t=_objectWithoutPropertiesLoose(e,["children"]);return n(useNProgress(t))};function withNProgress(e){var n=function(n){var t=useNProgress(n);return React.createElement(e,Object.assign({},n,t))};return hoistNonReactStatics(n,e),n}exports.NProgress=NProgress,exports.useNProgress=useNProgress,exports.withNProgress=withNProgress;
//# sourceMappingURL=react-nprogress.cjs.production.js.map
